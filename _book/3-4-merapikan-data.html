<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta property="og:title" content="3.4 Merapikan Data | Statistika Lingkungan Menggunakan R" />
<meta property="og:type" content="book" />

<meta property="og:image" content="cover.png" />
<meta property="og:description" content="Ini merupakan buku yang membahas penerapan R pada komputasi statistik di Teknik Lingkungan" />


<meta name="author" content="Moh. Rosidi" />

<meta name="date" content="2019-03-27" />

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  TeX: { equationNumbers: { autoNumber: "AMS" } }
});
</script>
  <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_CHTML-full" type="text/javascript"></script>

<meta name="description" content="Ini merupakan buku yang membahas penerapan R pada komputasi statistik di Teknik Lingkungan">

<title>3.4 Merapikan Data | Statistika Lingkungan Menggunakan R</title>

<script src="libs/jquery/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="libs/bootstrap/css/spacelab.min.css" rel="stylesheet" />
<script src="libs/bootstrap/js/bootstrap.min.js"></script>
<script src="libs/bootstrap/shim/html5shiv.min.js"></script>
<script src="libs/bootstrap/shim/respond.min.js"></script>
<script src="libs/navigation/tabsets.js"></script>


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
</style>
</head>

<body>

<div class="container-fluid main-container">


<div class="row">
<div class="col-sm-12">
<div id="TOC">
<ul>
<li><a href="index.html#pengantar">Pengantar</a></li>
<li class="part"><span><b>Bahasa Pemrograman R</b></span></li>
<li class="has-sub"><a href="1-mengenal-bahasa-r.html#mengenal-bahasa-r"><span class="toc-section-number">1</span> Mengenal Bahasa R</a><ul>
<li><a href="1-1-sejarah-r.html#sejarah-r"><span class="toc-section-number">1.1</span> Sejarah R</a></li>
<li><a href="1-2-fitur-dan-karakteristik-r.html#fitur-dan-karakteristik-r"><span class="toc-section-number">1.2</span> Fitur dan Karakteristik R</a></li>
<li><a href="1-3-kelebihan-dan-kekurangan-r.html#kelebihan-dan-kekurangan-r"><span class="toc-section-number">1.3</span> Kelebihan dan Kekurangan R</a></li>
<li><a href="1-4-rstudio.html#rstudio"><span class="toc-section-number">1.4</span> RStudio</a></li>
<li><a href="1-5-menginstall-r-dan-rstudio.html#menginstall-r-dan-rstudio"><span class="toc-section-number">1.5</span> Menginstall R dan RStudio</a></li>
<li class="has-sub"><a href="1-6-working-directory.html#working-directory"><span class="toc-section-number">1.6</span> Working Directory</a><ul>
<li><a href="1-6-working-directory.html#mengubah-lokasi-working-directory"><span class="toc-section-number">1.6.1</span> Mengubah Lokasi Working Directory</a></li>
<li><a href="1-6-working-directory.html#mengubah-lokasi-working-directory-default"><span class="toc-section-number">1.6.2</span> Mengubah Lokasi Working Directory Default</a></li>
</ul></li>
<li class="has-sub"><a href="1-7-fasilitas-help.html#fasilitas-help"><span class="toc-section-number">1.7</span> Fasilitas Help</a><ul>
<li><a href="1-7-fasilitas-help.html#mencari-help-dari-suatu-perintah-tertentu"><span class="toc-section-number">1.7.1</span> Mencari Help dari Suatu Perintah Tertentu</a></li>
<li><a href="1-7-fasilitas-help.html#general-help"><span class="toc-section-number">1.7.2</span> General Help</a></li>
<li><a href="1-7-fasilitas-help.html#fasilitas-help-lainnya"><span class="toc-section-number">1.7.3</span> Fasilitas Help Lainnya</a></li>
</ul></li>
<li><a href="1-8-referensi.html#referensi"><span class="toc-section-number">1.8</span> Referensi</a></li>
</ul></li>
<li class="has-sub"><a href="2-sintaks-bahasa-r.html#sintaks-bahasa-r"><span class="toc-section-number">2</span> Sintaks Bahasa R</a><ul>
<li><a href="2-1-operator-aritmatika.html#operator-aritmatika"><span class="toc-section-number">2.1</span> Operator Aritmatika</a></li>
<li><a href="2-2-fungsi-aritmetik.html#fungsi-aritmetik"><span class="toc-section-number">2.2</span> Fungsi Aritmetik</a></li>
<li><a href="2-3-operator-relasi.html#operator-relasi"><span class="toc-section-number">2.3</span> Operator Relasi</a></li>
<li><a href="2-4-operator-logika.html#operator-logika"><span class="toc-section-number">2.4</span> Operator Logika</a></li>
<li><a href="2-5-memasukkan-nilai-kedalam-variabel.html#memasukkan-nilai-kedalam-variabel"><span class="toc-section-number">2.5</span> Memasukkan Nilai Kedalam Variabel</a></li>
<li><a href="2-6-tipe-data.html#tipe-data"><span class="toc-section-number">2.6</span> Tipe Data</a></li>
<li class="has-sub"><a href="2-7-vektor.html#vektor"><span class="toc-section-number">2.7</span> Vektor</a><ul>
<li><a href="2-7-vektor.html#membuat-vektor"><span class="toc-section-number">2.7.1</span> Membuat vektor</a></li>
<li><a href="2-7-vektor.html#missing-values"><span class="toc-section-number">2.7.2</span> Missing Values</a></li>
<li><a href="2-7-vektor.html#subset-pada-vektor"><span class="toc-section-number">2.7.3</span> Subset Pada Vektor</a></li>
<li><a href="2-7-vektor.html#perhitungan-menggunakan-vektor"><span class="toc-section-number">2.7.4</span> Perhitungan Menggunakan Vektor</a></li>
</ul></li>
<li class="has-sub"><a href="2-8-matriks.html#matriks"><span class="toc-section-number">2.8</span> Matriks</a><ul>
<li><a href="2-8-matriks.html#membuat-matriks"><span class="toc-section-number">2.8.1</span> Membuat matriks</a></li>
<li><a href="2-8-matriks.html#subset-pada-matriks"><span class="toc-section-number">2.8.2</span> Subset Pada Matriks</a></li>
<li><a href="2-8-matriks.html#perhitungan-menggunakan-matriks"><span class="toc-section-number">2.8.3</span> Perhitungan Menggunakan Matriks</a></li>
</ul></li>
<li class="has-sub"><a href="2-9-faktor.html#faktor"><span class="toc-section-number">2.9</span> Faktor</a><ul>
<li><a href="2-9-faktor.html#membuat-variabel-faktor"><span class="toc-section-number">2.9.1</span> Membuat Variabel Faktor</a></li>
<li><a href="2-9-faktor.html#perhitungan-menggunakan-faktor"><span class="toc-section-number">2.9.2</span> Perhitungan Menggunakan Faktor</a></li>
</ul></li>
<li class="has-sub"><a href="2-10-data-frames.html#data-frames"><span class="toc-section-number">2.10</span> Data Frames</a><ul>
<li><a href="2-10-data-frames.html#membuat-data-frame"><span class="toc-section-number">2.10.1</span> Membuat Data Frame</a></li>
<li><a href="2-10-data-frames.html#subset-pada-data-frame"><span class="toc-section-number">2.10.2</span> Subset Pada Data Frame</a></li>
<li><a href="2-10-data-frames.html#memperluas-data-frame"><span class="toc-section-number">2.10.3</span> Memperluas Data Frame</a></li>
<li><a href="2-10-data-frames.html#perhitungan-pada-data-frame"><span class="toc-section-number">2.10.4</span> Perhitungan Pada Data Frame</a></li>
</ul></li>
<li class="has-sub"><a href="2-11-list.html#list"><span class="toc-section-number">2.11</span> List</a><ul>
<li><a href="2-11-list.html#membuat-list"><span class="toc-section-number">2.11.1</span> Membuat List</a></li>
<li><a href="2-11-list.html#subset-list"><span class="toc-section-number">2.11.2</span> Subset List</a></li>
<li><a href="2-11-list.html#memperluas-list"><span class="toc-section-number">2.11.3</span> Memperluas List</a></li>
</ul></li>
<li class="has-sub"><a href="2-12-loop.html#loop"><span class="toc-section-number">2.12</span> Loop</a><ul>
<li><a href="2-12-loop.html#for-loop"><span class="toc-section-number">2.12.1</span> For Loop</a></li>
<li><a href="2-12-loop.html#while-loop"><span class="toc-section-number">2.12.2</span> While Loop</a></li>
<li><a href="2-12-loop.html#repeat-loop"><span class="toc-section-number">2.12.3</span> Repeat Loop</a></li>
<li><a href="2-12-loop.html#break"><span class="toc-section-number">2.12.4</span> Break</a></li>
</ul></li>
<li class="has-sub"><a href="2-13-decision-making.html#decision-making"><span class="toc-section-number">2.13</span> Decision Making</a><ul>
<li><a href="2-13-decision-making.html#if-statement"><span class="toc-section-number">2.13.1</span> if statement</a></li>
<li><a href="2-13-decision-making.html#if-else-statement"><span class="toc-section-number">2.13.2</span> if else statement</a></li>
<li><a href="2-13-decision-making.html#switch-statement"><span class="toc-section-number">2.13.3</span> switch statement</a></li>
</ul></li>
<li><a href="2-14-fungsi.html#fungsi"><span class="toc-section-number">2.14</span> Fungsi</a></li>
<li><a href="2-15-referensi-1.html#referensi-1"><span class="toc-section-number">2.15</span> Referensi</a></li>
</ul></li>
<li class="has-sub"><a href="3-manajemen-data-r.html#manajemen-data-r"><span class="toc-section-number">3</span> Manajemen Data R</a><ul>
<li class="has-sub"><a href="3-1-import-file.html#import-file"><span class="toc-section-number">3.1</span> Import File</a><ul>
<li><a href="3-1-import-file.html#import-file-menggunakan-fungsi-bawaan-r"><span class="toc-section-number">3.1.1</span> Import File Menggunakan Fungsi Bawaan R</a></li>
<li><a href="3-1-import-file.html#membaca-file-csv-dan-txt-menggunakan-library-readr"><span class="toc-section-number">3.1.2</span> Membaca File CSV dan TXT Menggunakan Library readr</a></li>
<li><a href="3-1-import-file.html#import-file-excel-pada-r"><span class="toc-section-number">3.1.3</span> Import File Excel Pada R</a></li>
<li><a href="3-1-import-file.html#membaca-file-dari-format-aplikasi-statistik"><span class="toc-section-number">3.1.4</span> Membaca File Dari Format Aplikasi Statistik</a></li>
</ul></li>
<li class="has-sub"><a href="3-2-eksport-file.html#eksport-file"><span class="toc-section-number">3.2</span> Eksport File</a><ul>
<li><a href="3-2-eksport-file.html#eksport-data-menjadi-format-txt-dan-csv"><span class="toc-section-number">3.2.1</span> Eksport Data Menjadi Format TXT dan CSV</a></li>
<li><a href="3-2-eksport-file.html#eksport-data-menjadi-format-excel"><span class="toc-section-number">3.2.2</span> Eksport Data Menjadi Format Excel</a></li>
</ul></li>
<li class="has-sub"><a href="3-3-tibble-data-format.html#tibble-data-format"><span class="toc-section-number">3.3</span> Tibble Data Format</a><ul>
<li><a href="3-3-tibble-data-format.html#membuat-tibble"><span class="toc-section-number">3.3.1</span> Membuat Tibble</a></li>
<li><a href="3-3-tibble-data-format.html#tibble-vs-data-frame"><span class="toc-section-number">3.3.2</span> Tibble vs Data Frame</a></li>
</ul></li>
<li class="has-sub"><a href="3-4-merapikan-data.html#merapikan-data"><span class="toc-section-number">3.4</span> Merapikan Data</a><ul>
<li><a href="3-4-merapikan-data.html#gather"><span class="toc-section-number">3.4.1</span> Gather</a></li>
<li><a href="3-4-merapikan-data.html#spread"><span class="toc-section-number">3.4.2</span> Spread</a></li>
<li><a href="3-4-merapikan-data.html#separate"><span class="toc-section-number">3.4.3</span> Separate</a></li>
<li><a href="3-4-merapikan-data.html#unite"><span class="toc-section-number">3.4.4</span> Unite</a></li>
</ul></li>
<li class="has-sub"><a href="3-5-transformasi-data.html#transformasi-data"><span class="toc-section-number">3.5</span> Transformasi Data</a><ul>
<li><a href="3-5-transformasi-data.html#paket-dplyr"><span class="toc-section-number">3.5.1</span> Paket dplyr</a></li>
<li><a href="3-5-transformasi-data.html#filter"><span class="toc-section-number">3.5.2</span> filter()</a></li>
<li><a href="3-5-transformasi-data.html#arrange"><span class="toc-section-number">3.5.3</span> arrange()</a></li>
<li><a href="3-5-transformasi-data.html#select"><span class="toc-section-number">3.5.4</span> select()</a></li>
<li><a href="3-5-transformasi-data.html#mutate"><span class="toc-section-number">3.5.5</span> mutate()</a></li>
<li><a href="3-5-transformasi-data.html#summarize-dan-group_by"><span class="toc-section-number">3.5.6</span> summarize() dan group_by()</a></li>
<li><a href="3-5-transformasi-data.html#mengkombinasikan-beberapa-operasi-menggunakan-operator-pipe"><span class="toc-section-number">3.5.7</span> Mengkombinasikan Beberapa Operasi Menggunakan Operator Pipe (%&gt;%)</a></li>
</ul></li>
<li><a href="3-6-referensi-2.html#referensi-2"><span class="toc-section-number">3.6</span> Referensi</a></li>
</ul></li>
<li class="part"><span><b>Visualisasi Data - R</b></span></li>
<li class="has-sub"><a href="4-visualisasi-data-menggunakan-fungsi-dasar-r.html#visualisasi-data-menggunakan-fungsi-dasar-r"><span class="toc-section-number">4</span> Visualisasi Data Menggunakan Fungsi Dasar R</a><ul>
<li><a href="4-1-visualisasi-data-menggunakan-fungsi-plot.html#visualisasi-data-menggunakan-fungsi-plot"><span class="toc-section-number">4.1</span> Visualisasi Data Menggunakan Fungsi plot()</a></li>
<li><a href="4-2-matriks-scatterplot.html#matriks-scatterplot"><span class="toc-section-number">4.2</span> Matriks Scatterplot</a></li>
<li><a href="4-3-box-plot.html#box-plot"><span class="toc-section-number">4.3</span> Box plot</a></li>
<li><a href="4-4-bar-plot.html#bar-plot"><span class="toc-section-number">4.4</span> Bar Plot</a></li>
<li><a href="4-5-line-plot.html#line-plot"><span class="toc-section-number">4.5</span> Line Plot</a></li>
<li><a href="4-6-pie-chart.html#pie-chart"><span class="toc-section-number">4.6</span> Pie Chart</a></li>
<li><a href="4-7-histogram-dan-density-plot.html#histogram-dan-density-plot"><span class="toc-section-number">4.7</span> Histogram dan Density Plot</a></li>
<li><a href="4-8-qq-plot.html#qq-plot"><span class="toc-section-number">4.8</span> QQ Plot</a></li>
<li><a href="4-9-dot-chart.html#dot-chart"><span class="toc-section-number">4.9</span> Dot Chart</a></li>
<li class="has-sub"><a href="4-10-kustomisasi-parameter-grafik.html#kustomisasi-parameter-grafik"><span class="toc-section-number">4.10</span> Kustomisasi Parameter Grafik</a><ul>
<li><a href="4-10-kustomisasi-parameter-grafik.html#menambahkan-judul"><span class="toc-section-number">4.10.1</span> Menambahkan Judul</a></li>
<li><a href="4-10-kustomisasi-parameter-grafik.html#menambahkan-legend"><span class="toc-section-number">4.10.2</span> Menambahkan Legend</a></li>
<li><a href="4-10-kustomisasi-parameter-grafik.html#menambahkan-teks-pada-grafik"><span class="toc-section-number">4.10.3</span> Menambahkan Teks Pada Grafik</a></li>
<li><a href="4-10-kustomisasi-parameter-grafik.html#menambahkan-garis-pada-plot"><span class="toc-section-number">4.10.4</span> Menambahkan Garis Pada Plot</a></li>
<li><a href="4-10-kustomisasi-parameter-grafik.html#merubah-simbol-plot-dan-jenis-garis"><span class="toc-section-number">4.10.5</span> Merubah Simbol plot dan Jenis Garis</a></li>
<li><a href="4-10-kustomisasi-parameter-grafik.html#mengatur-axis-plot"><span class="toc-section-number">4.10.6</span> Mengatur Axis Plot</a></li>
<li><a href="4-10-kustomisasi-parameter-grafik.html#mengatur-warna"><span class="toc-section-number">4.10.7</span> Mengatur Warna</a></li>
</ul></li>
<li class="has-sub"><a href="4-11-alternatif-library-dasar-lain.html#alternatif-library-dasar-lain"><span class="toc-section-number">4.11</span> Alternatif Library Dasar Lain</a><ul>
<li><a href="4-11-alternatif-library-dasar-lain.html#scatterplot-menggunakan-library-car"><span class="toc-section-number">4.11.1</span> Scatterplot Menggunakan Library car</a></li>
<li><a href="4-11-alternatif-library-dasar-lain.html#matriks-scatterplot-menggunakan-library-psych"><span class="toc-section-number">4.11.2</span> Matriks Scatterplot Menggunakan Library psych</a></li>
<li><a href="4-11-alternatif-library-dasar-lain.html#box-plot-menggunakan-library-gplots"><span class="toc-section-number">4.11.3</span> Box Plot Menggunakan Library gplots</a></li>
<li><a href="4-11-alternatif-library-dasar-lain.html#qq-plot-menggunakan-library-car"><span class="toc-section-number">4.11.4</span> QQ Plot Menggunakan Library car</a></li>
<li><a href="4-11-alternatif-library-dasar-lain.html#plot-group-means-menggunakan-library-gplots"><span class="toc-section-number">4.11.5</span> Plot Group Means Menggunakan Library gplots</a></li>
</ul></li>
<li><a href="4-12-referensi-3.html#referensi-3"><span class="toc-section-number">4.12</span> Referensi</a></li>
</ul></li>
<li class="has-sub"><a href="5-visualisasi-data-menggunakan-ggplot.html#visualisasi-data-menggunakan-ggplot"><span class="toc-section-number">5</span> Visualisasi Data Menggunakan GGPLOT</a><ul>
<li><a href="5-1-scatterplot.html#scatterplot"><span class="toc-section-number">5.1</span> Scatterplot</a></li>
<li><a href="5-2-box-plot-dan-violin-plot.html#box-plot-dan-violin-plot"><span class="toc-section-number">5.2</span> Box Plot dan Violin Plot</a></li>
<li><a href="5-3-bar-plot-1.html#bar-plot-1"><span class="toc-section-number">5.3</span> Bar Plot</a></li>
<li><a href="5-4-line-plot-1.html#line-plot-1"><span class="toc-section-number">5.4</span> Line Plot</a></li>
<li><a href="5-5-pie-chart-1.html#pie-chart-1"><span class="toc-section-number">5.5</span> Pie Chart</a></li>
<li><a href="5-6-histogram-dan-desity-plot.html#histogram-dan-desity-plot"><span class="toc-section-number">5.6</span> Histogram dan Desity Plot</a></li>
<li><a href="5-7-qq-plot-1.html#qq-plot-1"><span class="toc-section-number">5.7</span> QQ Plot</a></li>
<li><a href="5-8-dot-plot.html#dot-plot"><span class="toc-section-number">5.8</span> Dot Plot</a></li>
<li><a href="5-9-ecdf-plot.html#ecdf-plot"><span class="toc-section-number">5.9</span> ECDF Plot</a></li>
</ul></li>
<li><a href="references.html#references">References</a></li>
</ul>
</div>
</div>
</div>
<div class="row">
<div class="col-sm-12">
<div id="merapikan-data" class="section level2">
<h2><span class="header-section-number">3.4</span> Merapikan Data</h2>
<p>Sebelum memulai analisa terhadap data yang kita miliki, umumnya kita akan merapikan data yang akan kita gunakan. Tujuannya adalah agar data yang akan digunakan sudah siap untuk dilakukan analisa dengan software tertentu seperti <code>R</code>, dimana pada dataset perlu jelas antara variabel dan nilai (<em>value</em>), serta untuk mempermudah dalah memperoleh informasi pada data. Berikut adalah beberapa contoh dataset yang dapat pembaca cermati terkait manakah data yang telah rapi (<em>tidy data</em>) dan mana yang belum (<em>messy data</em>):</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Install paket dataset EDAWR</span>
<span class="co"># install.packages(&quot;devtools&quot;)</span>
<span class="co"># devtools::install_github(&quot;rstudio/EDAWR&quot;)</span>

<span class="co"># hilangkan tanda # jika pembaca belum menginstall</span></code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(EDAWR)</code></pre></div>
<pre><code>## 
## Attaching package: &#39;EDAWR&#39;</code></pre>
<pre><code>## The following objects are masked _by_ &#39;.GlobalEnv&#39;:
## 
##     a, b, y, z</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># memuat dataset</span>
storms &lt;-<span class="st"> </span>EDAWR<span class="op">::</span>storms
cases</code></pre></div>
<pre><code>##   country  2011  2012  2013
## 1      FR  7000  6900  7000
## 2      DE  5800  6000  6200
## 3      US 15000 14000 13000</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">pollution</code></pre></div>
<pre><code>##       city  size amount
## 1 New York large     23
## 2 New York small     14
## 3   London large     22
## 4   London small     16
## 5  Beijing large    121
## 6  Beijing small     56</code></pre>
<p>Sebelum kita melakukan analisa di dataset tersebut, kita harus tahu terlebih dahulu apa saja syarat suatu dataset dikatakan rapi (<em>tidy</em>). Berikut adalah syaratnya:</p>
<ul>
<li>Setiap variabel harus memiliki kolomnya sendiri</li>
<li>Setiap observasi harus memiliki barisnya sendiri</li>
<li>Setiap nilai berada pada sel tersendiri</li>
</ul>
<p>Ketiga syarat tersebut saling berhubungan sehingga jika salah satu syarat tersebut tidak terpenuhi, maka dataset belum bisa dikatakan <em>tidy</em>. Ketiga syarat tersebut dapat divisualisasikan melalui Gambar <a href="3-4-merapikan-data.html#fig:tidy">3.1</a></p>
<div class="figure" style="text-align: center"><span id="fig:tidy"></span>
<img src="tidy.png" alt="Visualisasi 3 rule tidy data" width="293" />
<p class="caption">
Gambar 3.1: Visualisasi 3 rule tidy data
</p>
</div>
<p>Pada dataset <code>storms</code> terdapat 4 buah kolom dan 6 buah baris. Masing-masing kolom menyatakan variabel pada masing-masing observasi seperti nama badai , kecepatan angin, tekanan dan waktu . Ketiga syarat kerapihan data sudah terpenuhi pada data tersebut sehingga kita bisa melakukan analisa terhadap data tersebut, misalnya kecepatan angin dan tekanan pada masing-masing badai. Selain itu kita juga dapat dengan mudah menginput variabel baru pada dataset tersebut, misal: rasio (kecepatan angin/tekanan).</p>
<p>Berikut adalah contoh bagaimana kita dapat dengan mudah menarik nilai variabel pada masing-masing kolom dan membentuk variabel baru pada dataset tersebut:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># subset variabel</span>
storms<span class="op">$</span>storm</code></pre></div>
<pre><code>## [1] &quot;Alberto&quot; &quot;Alex&quot;    &quot;Allison&quot; &quot;Ana&quot;     &quot;Arlene&quot; 
## [6] &quot;Arthur&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">storms<span class="op">$</span>wind</code></pre></div>
<pre><code>## [1] 110  45  65  40  50  45</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">storms<span class="op">$</span>pressure</code></pre></div>
<pre><code>## [1] 1007 1009 1005 1013 1010 1010</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">storms<span class="op">$</span>date</code></pre></div>
<pre><code>## [1] &quot;2000-08-03&quot; &quot;1998-07-27&quot; &quot;1995-06-03&quot; &quot;1997-06-30&quot;
## [5] &quot;1999-06-11&quot; &quot;1996-06-17&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># membuat variabel baru</span>
storms_new &lt;-<span class="st"> </span>storms
storms_new<span class="op">$</span>ratio &lt;-<span class="st"> </span>storms_new<span class="op">$</span>wind<span class="op">/</span>storms_new<span class="op">$</span>pressure
storms_new</code></pre></div>
<pre><code>##     storm wind pressure       date   ratio
## 1 Alberto  110     1007 2000-08-03 0.10924
## 2    Alex   45     1009 1998-07-27 0.04460
## 3 Allison   65     1005 1995-06-03 0.06468
## 4     Ana   40     1013 1997-06-30 0.03949
## 5  Arlene   50     1010 1999-06-11 0.04950
## 6  Arthur   45     1010 1996-06-17 0.04455</code></pre>
<p>Pada dataset <code>cases</code> terdapat 3 buah kolom dan 3 baris. Pada kolom pertama berupa kode Negara, sedangkan kolom sisanya merupakan tahun. Jika kita perhatikan dengan seksama dataset tersebut merupakan sebuah <em>contingency table</em> dimana tabel tersebut menyatakan frekuensi kejadian pada tahun tertentu dan negara tertentu. Dataset tersebut belum dapat dikatan <em>tidy</em> karena kolom <code>2011</code> sampai <code>2013</code> merupakan sebuah nilai dari observasi dan bukan sebuah variabel sehingga dataset tersebut masih tergolong dataset <em>messy</em>. Selain itu sangat sulit untuk dilakukan penarikan terhadap nilai pada setiap kolom serta pembentukan variabel baru sebagai pendukung analisa juga sulit dilakukan. Berikut adalah contoh melakukan penarikan nilai / subset pada masing variabel:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">cases<span class="op">$</span>country</code></pre></div>
<pre><code>## [1] &quot;FR&quot; &quot;DE&quot; &quot;US&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">names</span>(cases[<span class="op">-</span><span class="dv">1</span>])</code></pre></div>
<pre><code>## [1] &quot;2011&quot; &quot;2012&quot; &quot;2013&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">unlist</span>(cases[<span class="dv">1</span><span class="op">:</span><span class="dv">3</span>, <span class="dv">2</span><span class="op">:</span><span class="dv">4</span>])</code></pre></div>
<pre><code>## 20111 20112 20113 20121 20122 20123 20131 20132 20133 
##  7000  5800 15000  6900  6000 14000  7000  6200 13000</code></pre>
<p>Pada dataset <code>pollution</code>terdapat 3 buah kolom dan 6 baris. Masing-masing kolom menyatakan lokasi berupa nama kota, keterangan ukuran partikel, serta nilai dari ukuran partikel. Beberapa dari kita mungkin menganggap dataset ini telah memenuhi syarat kerapihan data. Namun, coba kita cermati jika mita ingin membuat variabel baru terkait dengan berapa rentang ukuran partikel (range ukuran partikel) pada masing-masing kota. Hal tersebut tentu sangat sulit dilakukan pada dataset tersebut, namun dataset tersebut memungkinkan kita dengan mudah mengambil nilai dari masing-masing variabelnya seperti contoh berikut:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">pollution<span class="op">$</span>city</code></pre></div>
<pre><code>## [1] &quot;New York&quot; &quot;New York&quot; &quot;London&quot;   &quot;London&quot;  
## [5] &quot;Beijing&quot;  &quot;Beijing&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">pollution<span class="op">$</span>size</code></pre></div>
<pre><code>## [1] &quot;large&quot; &quot;small&quot; &quot;large&quot; &quot;small&quot; &quot;large&quot; &quot;small&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">pollution<span class="op">$</span>amount</code></pre></div>
<pre><code>## [1]  23  14  22  16 121  56</code></pre>
<p>Berdasarkan contoh-contoh tersebut pada pembahasan kali ini penulis akan menjelaskan bagaiman cara melakukan perapihan data menggunakan library <code>tidyr</code>. Sebelum kita melakukannya berikut adalah sintaks untuk menginstall library tersebut:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># memasang paket</span>
<span class="kw">install.packages</span>(<span class="st">&quot;tidyr&quot;</span>)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># memuat paket</span>
<span class="kw">library</span>(tidyr)</code></pre></div>
<pre><code>## Warning: package &#39;tidyr&#39; was built under R version
## 3.5.3</code></pre>
<div id="gather" class="section level3">
<h3><span class="header-section-number">3.4.1</span> Gather</h3>
<p>Pada dataset <code>cases</code> kolom <code>2011</code> sampai <code>2013</code> perlu dijadikan satu variabel yaitu tahun. untuk melakukannya kita dapat menggunakan fungsi <code>gather()</code>. Secara sederhana fungsi tersebut dapat dituliskan dengan format sebagai berikut:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">gather</span>(data, key, value, ...)</code></pre></div>
<blockquote>
<p><strong>Note: </strong></p>
<ul>
<li><strong>data</strong>: data frame</li>
<li><strong>key, value</strong>: nama kunci dan kolom nilai yang akan dibuat di output</li>
<li><strong>…</strong>: Spesifikasi kolom untuk dikumpulkan. Nilai yang diizinkan adalah:
<ul>
<li>nama variabel</li>
<li>jika kita ingin memilih semua variabel antara a dan e, gunakan a:e</li>
<li>jika kita ingin mengecualikan nama kolom y gunakan -y</li>
<li>untuk opsi lainnya, lihat: <code>dplyr::select()</code></li>
</ul></li>
</ul>
</blockquote>
<p>Berikut adalah contoh penerapannya pada dataset <code>cases</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Ubah dataset cases menjadi tibble simpan sebagai objek cases_new</span>
<span class="kw">library</span>(tibble)
cases_tbl &lt;-<span class="st"> </span><span class="kw">as_tibble</span>(cases)

<span class="co"># print</span>
cases_tbl</code></pre></div>
<pre><code>## # A tibble: 3 x 4
##   country `2011` `2012` `2013`
##   &lt;chr&gt;    &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;
## 1 FR        7000   6900   7000
## 2 DE        5800   6000   6200
## 3 US       15000  14000  13000</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># gather</span>
cases_new &lt;-<span class="st"> </span><span class="kw">gather</span>(cases_tbl, 
                    <span class="co"># variabel kunci</span>
                    <span class="dt">key =</span> <span class="st">&quot;year&quot;</span>,
                    <span class="co"># nilai variabel</span>
                    <span class="dt">value =</span> <span class="st">&quot;frequency&quot;</span>,
                    <span class="co"># kecualikan kolom country</span>
                    <span class="op">-</span>country)

<span class="co"># print</span>
cases_new</code></pre></div>
<pre><code>## # A tibble: 9 x 3
##   country year  frequency
##   &lt;chr&gt;   &lt;chr&gt;     &lt;dbl&gt;
## 1 FR      2011       7000
## 2 DE      2011       5800
## 3 US      2011      15000
## 4 FR      2012       6900
## 5 DE      2012       6000
## 6 US      2012      14000
## 7 FR      2013       7000
## 8 DE      2013       6200
## 9 US      2013      13000</code></pre>
<p>Berdasarkan hasil yang diperoleh terlihat bahwa variabel tahun memiliki jenis data karakter. Jenis data ini masih belum sesuai sehingga perlu dikonversi agar menjadi jenis data numerik (<em>dbl = double</em>). Untuk melakukannya jalankan sintaks berikut:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Ubah jenis variabel tahun menjadi numerik</span>
cases_new<span class="op">$</span>year &lt;-<span class="st"> </span><span class="kw">as.numeric</span>(cases_new<span class="op">$</span>year)
cases_new</code></pre></div>
<pre><code>## # A tibble: 9 x 3
##   country  year frequency
##   &lt;chr&gt;   &lt;dbl&gt;     &lt;dbl&gt;
## 1 FR       2011      7000
## 2 DE       2011      5800
## 3 US       2011     15000
## 4 FR       2012      6900
## 5 DE       2012      6000
## 6 US       2012     14000
## 7 FR       2013      7000
## 8 DE       2013      6200
## 9 US       2013     13000</code></pre>
<p>Data yang diperoleh sekaran telah rapi (<em>tidy</em>), sehingga sudah siap untuk dilakukan analisa data.</p>
</div>
<div id="spread" class="section level3">
<h3><span class="header-section-number">3.4.2</span> Spread</h3>
<p>Fungsi <code>spread()</code> berkebalikan dengan <code>gather()</code>. Fungsi <code>gather()</code> menggabungkan beberapa kolom menjadi 2 buah kolom kolom kunci sedangkan <code>spread()</code> merubah dua kolom menjadi beberapa kolom. Format sederhanya adalah sebagai berikut:</p>
<blockquote>
<p><strong>Note: </strong></p>
<ul>
<li><strong>data</strong>: data frame</li>
<li><strong>key</strong>: nama kolom yang akan dijadikan heading pada kolom baru</li>
<li><strong>value</strong>: nama kolom yang nilainya akan mengisi setiap sel</li>
</ul>
</blockquote>
<p>Pada contoh kasus pada data <code>pollution</code>, kita dapat memisahkan kolom 2 menjadi kolom baru yaitu kolom <code>big size</code> dan <code>small size</code>. Untuk melakukannya jalankan sintaks berikut:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># merubah objek pollution menjadi tibble</span>
pollution_tbl &lt;-<span class="st"> </span><span class="kw">as_tibble</span>(pollution)

<span class="co"># print</span>
pollution_tbl</code></pre></div>
<pre><code>## # A tibble: 6 x 3
##   city     size  amount
##   &lt;chr&gt;    &lt;chr&gt;  &lt;dbl&gt;
## 1 New York large     23
## 2 New York small     14
## 3 London   large     22
## 4 London   small     16
## 5 Beijing  large    121
## 6 Beijing  small     56</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># spread</span>
pollution_new &lt;-<span class="st"> </span><span class="kw">spread</span>(pollution_tbl,
                        <span class="dt">key =</span> size,
                        <span class="dt">value =</span> amount)

<span class="co">#print</span>
pollution_new</code></pre></div>
<pre><code>## # A tibble: 3 x 3
##   city     large small
##   &lt;chr&gt;    &lt;dbl&gt; &lt;dbl&gt;
## 1 Beijing    121    56
## 2 London      22    16
## 3 New York    23    14</code></pre>
<p>Terlihat bahwa data <code>pollution</code> tampak memnuhi syarat kerapihan data (<em>tidy</em>). Kita sekarang dapat menginput variabel baru dan melakukan analisa terhadap data tersebut. Berikut adalah contoh penerapannya:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># input variabel range (large-small)</span>
pollution_new<span class="op">$</span>range &lt;-<span class="st"> </span>pollution_new<span class="op">$</span>large <span class="op">-</span><span class="st"> </span>pollution_new<span class="op">$</span>small

<span class="co"># print</span>
pollution_new</code></pre></div>
<pre><code>## # A tibble: 3 x 4
##   city     large small range
##   &lt;chr&gt;    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1 Beijing    121    56    65
## 2 London      22    16     6
## 3 New York    23    14     9</code></pre>
<p>Berdasarkan hasil yang diperoleh diketahui bahwa nilai range ukuran partikel terbesar berada di Kota Beijing.</p>
</div>
<div id="separate" class="section level3">
<h3><span class="header-section-number">3.4.3</span> Separate</h3>
<p>Fungsi <code>separate()</code> merupakan fungsi yang digunakan untuk memisahkan sejumlah nilai pada sebuah kolom menjadi beberapa kolom berdasarkan karakter pemisah yang ada di dalam nilai suatu kolom. Fungsi ini berbeda dengan fungsi sebelumnya seperti <code>gather()</code> dan <code>spread()</code> yang menggabung atau memisahkan 2 atau beberapa kolom. Format sederhana fungsi <code>separate()</code> adalah sebagai berikut:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">separate</span>(data, col, into, <span class="dt">sep =</span> <span class="st">&quot;[^[:alnum:]]+&quot;</span>, <span class="dt">convert=</span> <span class="ot">TRUE</span>)</code></pre></div>
<blockquote>
<p><strong>Note: </strong></p>
<ul>
<li><strong>data</strong>: data frame.</li>
<li><strong>col</strong>: Nama kolom yang tidak dikutip.</li>
<li><strong>into</strong>: Vektor karakter menentukan nama variabel baru yang akan dibuat.</li>
<li><strong>sep</strong>: Pemisah antar kolom:</li>
<li>Jika karakter, diartikan sebagai ekspresi reguler. Jika numerik, diartikan sebagai posisi untuk dibelah. Nilai-nilai positif mulai dari 1 di ujung kiri string; nilai negatif mulai dari -1 di ujung kanan string.</li>
<li><strong>convert</strong>: nilai logik. Jika bernilai TRUE maka kolom baru yang akan diperoleh akan dikonversi berdasarkan jenis data yang seharusnya.</li>
</ul>
</blockquote>
<p>Pada dataset <code>storms</code> kita ingin memisahkan kolom <code>date</code> menjadi beberapa kolom seperti <code>year</code>, <code>month</code>, dan <code>day</code>, Kita dapat menggunakan fungsi <code>separate()</code> untuk memisahkan nilai pada kolom tersebut berdasarkan karakter pemisah pada nilai kolom tersebut dalam hal ini adalah “-”. Berikut adalah cara melakukannya:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># merubah storms menjadi tibble</span>
storms_tbl &lt;-<span class="st"> </span><span class="kw">as_tibble</span>(storms)

<span class="co"># print</span>
storms_tbl</code></pre></div>
<pre><code>## # A tibble: 6 x 4
##   storm    wind pressure date      
##   &lt;chr&gt;   &lt;int&gt;    &lt;int&gt; &lt;date&gt;    
## 1 Alberto   110     1007 2000-08-03
## 2 Alex       45     1009 1998-07-27
## 3 Allison    65     1005 1995-06-03
## 4 Ana        40     1013 1997-06-30
## 5 Arlene     50     1010 1999-06-11
## 6 Arthur     45     1010 1996-06-17</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># separate</span>
storms_new &lt;-<span class="st"> </span><span class="kw">separate</span>(storms_tbl,
                       <span class="dt">col =</span> date,
                       <span class="dt">into =</span> <span class="kw">c</span>(<span class="st">&quot;year&quot;</span>,<span class="st">&quot;month&quot;</span>,<span class="st">&quot;days&quot;</span>),
                       <span class="dt">sep =</span> <span class="st">&quot;-&quot;</span>,
                       <span class="dt">convert =</span> <span class="ot">TRUE</span>)

<span class="co"># print</span>
storms_new</code></pre></div>
<pre><code>## # A tibble: 6 x 6
##   storm    wind pressure  year month  days
##   &lt;chr&gt;   &lt;int&gt;    &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt;
## 1 Alberto   110     1007  2000     8     3
## 2 Alex       45     1009  1998     7    27
## 3 Allison    65     1005  1995     6     3
## 4 Ana        40     1013  1997     6    30
## 5 Arlene     50     1010  1999     6    11
## 6 Arthur     45     1010  1996     6    17</code></pre>
<p>Berdasarkan hasil yang diperoleh terlihat bahwa data telah terpisah dengan benar yang ditunjukkan dari nilai yang terpisah dan jenis data yang dihasilkan.</p>
</div>
<div id="unite" class="section level3">
<h3><span class="header-section-number">3.4.4</span> Unite</h3>
<p>Fungsi <code>unite()</code> merupakan kebalikan dari fungsi <code>separate()</code>, dimana fungsi ini menggabungkan sejumlah kolom menjadi 1 kolom. Format sederhana untuk melakukanya disajikan sebagai berikut:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">unite</span>(data, col, ..., <span class="dt">sep =</span> <span class="st">&quot;_&quot;</span>)</code></pre></div>
<blockquote>
<p><strong>Note: </strong></p>
<ul>
<li><strong>data</strong>: data frame.</li>
<li><strong>col</strong>: nama kolom baru (tanpa tanda kutip) untuk ditambahkan.</li>
<li><strong>sep</strong>: pemisah yang akan digunakan pada antar nilai.</li>
</ul>
</blockquote>
<p>Pada dataset <code>storms_new</code> kita ingin menggabungkan kembali kolom <code>year</code>, <code>month</code>, dan <code>days</code> dengan karakter pemisah “/”. Berikut adalah cara melakukannya:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># unite</span>
storms_old &lt;-<span class="st"> </span><span class="kw">unite</span>(storms_new,
                   <span class="dt">col =</span> <span class="st">&quot;date&quot;</span>,
                   year, month, days,
                   <span class="dt">sep =</span> <span class="st">&quot;-&quot;</span>)

<span class="co"># print</span>
storms_old</code></pre></div>
<pre><code>## # A tibble: 6 x 4
##   storm    wind pressure date     
##   &lt;chr&gt;   &lt;int&gt;    &lt;int&gt; &lt;chr&gt;    
## 1 Alberto   110     1007 2000-8-3 
## 2 Alex       45     1009 1998-7-27
## 3 Allison    65     1005 1995-6-3 
## 4 Ana        40     1013 1997-6-30
## 5 Arlene     50     1010 1999-6-11
## 6 Arthur     45     1010 1996-6-17</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># ubah jenis kolom menjadi date</span>
storms_old<span class="op">$</span>date &lt;-<span class="st"> </span><span class="kw">as.Date</span>(storms_old<span class="op">$</span>date)

<span class="co"># print</span>
storms_old</code></pre></div>
<pre><code>## # A tibble: 6 x 4
##   storm    wind pressure date      
##   &lt;chr&gt;   &lt;int&gt;    &lt;int&gt; &lt;date&gt;    
## 1 Alberto   110     1007 2000-08-03
## 2 Alex       45     1009 1998-07-27
## 3 Allison    65     1005 1995-06-03
## 4 Ana        40     1013 1997-06-30
## 5 Arlene     50     1010 1999-06-11
## 6 Arthur     45     1010 1996-06-17</code></pre>
</div>
</div>
<p style="text-align: center;">
<a href="3-3-tibble-data-format.html"><button class="btn btn-default">Previous</button></a>
<a href="3-5-transformasi-data.html"><button class="btn btn-default">Next</button></a>
</p>
</div>
</div>


</div>

<script>

// add bootstrap table styles to pandoc tables
$(document).ready(function () {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
});

</script>

</body>
</html>
