<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta property="og:title" content="3.5 Transformasi Data | Statistika Lingkungan Menggunakan R" />
<meta property="og:type" content="book" />

<meta property="og:image" content="cover.png" />
<meta property="og:description" content="Ini merupakan buku yang membahas penerapan R pada komputasi statistik di Teknik Lingkungan" />


<meta name="author" content="Moh. Rosidi" />

<meta name="date" content="2019-03-27" />

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  TeX: { equationNumbers: { autoNumber: "AMS" } }
});
</script>
  <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_CHTML-full" type="text/javascript"></script>

<meta name="description" content="Ini merupakan buku yang membahas penerapan R pada komputasi statistik di Teknik Lingkungan">

<title>3.5 Transformasi Data | Statistika Lingkungan Menggunakan R</title>

<script src="libs/jquery/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="libs/bootstrap/css/spacelab.min.css" rel="stylesheet" />
<script src="libs/bootstrap/js/bootstrap.min.js"></script>
<script src="libs/bootstrap/shim/html5shiv.min.js"></script>
<script src="libs/bootstrap/shim/respond.min.js"></script>
<script src="libs/navigation/tabsets.js"></script>


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
</style>
</head>

<body>

<div class="container-fluid main-container">


<div class="row">
<div class="col-sm-12">
<div id="TOC">
<ul>
<li><a href="index.html#pengantar">Pengantar</a></li>
<li class="part"><span><b>Bahasa Pemrograman R</b></span></li>
<li class="has-sub"><a href="1-mengenal-bahasa-r.html#mengenal-bahasa-r"><span class="toc-section-number">1</span> Mengenal Bahasa R</a><ul>
<li><a href="1-1-sejarah-r.html#sejarah-r"><span class="toc-section-number">1.1</span> Sejarah R</a></li>
<li><a href="1-2-fitur-dan-karakteristik-r.html#fitur-dan-karakteristik-r"><span class="toc-section-number">1.2</span> Fitur dan Karakteristik R</a></li>
<li><a href="1-3-kelebihan-dan-kekurangan-r.html#kelebihan-dan-kekurangan-r"><span class="toc-section-number">1.3</span> Kelebihan dan Kekurangan R</a></li>
<li><a href="1-4-rstudio.html#rstudio"><span class="toc-section-number">1.4</span> RStudio</a></li>
<li><a href="1-5-menginstall-r-dan-rstudio.html#menginstall-r-dan-rstudio"><span class="toc-section-number">1.5</span> Menginstall R dan RStudio</a></li>
<li class="has-sub"><a href="1-6-working-directory.html#working-directory"><span class="toc-section-number">1.6</span> Working Directory</a><ul>
<li><a href="1-6-working-directory.html#mengubah-lokasi-working-directory"><span class="toc-section-number">1.6.1</span> Mengubah Lokasi Working Directory</a></li>
<li><a href="1-6-working-directory.html#mengubah-lokasi-working-directory-default"><span class="toc-section-number">1.6.2</span> Mengubah Lokasi Working Directory Default</a></li>
</ul></li>
<li class="has-sub"><a href="1-7-fasilitas-help.html#fasilitas-help"><span class="toc-section-number">1.7</span> Fasilitas Help</a><ul>
<li><a href="1-7-fasilitas-help.html#mencari-help-dari-suatu-perintah-tertentu"><span class="toc-section-number">1.7.1</span> Mencari Help dari Suatu Perintah Tertentu</a></li>
<li><a href="1-7-fasilitas-help.html#general-help"><span class="toc-section-number">1.7.2</span> General Help</a></li>
<li><a href="1-7-fasilitas-help.html#fasilitas-help-lainnya"><span class="toc-section-number">1.7.3</span> Fasilitas Help Lainnya</a></li>
</ul></li>
<li><a href="1-8-referensi.html#referensi"><span class="toc-section-number">1.8</span> Referensi</a></li>
</ul></li>
<li class="has-sub"><a href="2-sintaks-bahasa-r.html#sintaks-bahasa-r"><span class="toc-section-number">2</span> Sintaks Bahasa R</a><ul>
<li><a href="2-1-operator-aritmatika.html#operator-aritmatika"><span class="toc-section-number">2.1</span> Operator Aritmatika</a></li>
<li><a href="2-2-fungsi-aritmetik.html#fungsi-aritmetik"><span class="toc-section-number">2.2</span> Fungsi Aritmetik</a></li>
<li><a href="2-3-operator-relasi.html#operator-relasi"><span class="toc-section-number">2.3</span> Operator Relasi</a></li>
<li><a href="2-4-operator-logika.html#operator-logika"><span class="toc-section-number">2.4</span> Operator Logika</a></li>
<li><a href="2-5-memasukkan-nilai-kedalam-variabel.html#memasukkan-nilai-kedalam-variabel"><span class="toc-section-number">2.5</span> Memasukkan Nilai Kedalam Variabel</a></li>
<li><a href="2-6-tipe-data.html#tipe-data"><span class="toc-section-number">2.6</span> Tipe Data</a></li>
<li class="has-sub"><a href="2-7-vektor.html#vektor"><span class="toc-section-number">2.7</span> Vektor</a><ul>
<li><a href="2-7-vektor.html#membuat-vektor"><span class="toc-section-number">2.7.1</span> Membuat vektor</a></li>
<li><a href="2-7-vektor.html#missing-values"><span class="toc-section-number">2.7.2</span> Missing Values</a></li>
<li><a href="2-7-vektor.html#subset-pada-vektor"><span class="toc-section-number">2.7.3</span> Subset Pada Vektor</a></li>
<li><a href="2-7-vektor.html#perhitungan-menggunakan-vektor"><span class="toc-section-number">2.7.4</span> Perhitungan Menggunakan Vektor</a></li>
</ul></li>
<li class="has-sub"><a href="2-8-matriks.html#matriks"><span class="toc-section-number">2.8</span> Matriks</a><ul>
<li><a href="2-8-matriks.html#membuat-matriks"><span class="toc-section-number">2.8.1</span> Membuat matriks</a></li>
<li><a href="2-8-matriks.html#subset-pada-matriks"><span class="toc-section-number">2.8.2</span> Subset Pada Matriks</a></li>
<li><a href="2-8-matriks.html#perhitungan-menggunakan-matriks"><span class="toc-section-number">2.8.3</span> Perhitungan Menggunakan Matriks</a></li>
</ul></li>
<li class="has-sub"><a href="2-9-faktor.html#faktor"><span class="toc-section-number">2.9</span> Faktor</a><ul>
<li><a href="2-9-faktor.html#membuat-variabel-faktor"><span class="toc-section-number">2.9.1</span> Membuat Variabel Faktor</a></li>
<li><a href="2-9-faktor.html#perhitungan-menggunakan-faktor"><span class="toc-section-number">2.9.2</span> Perhitungan Menggunakan Faktor</a></li>
</ul></li>
<li class="has-sub"><a href="2-10-data-frames.html#data-frames"><span class="toc-section-number">2.10</span> Data Frames</a><ul>
<li><a href="2-10-data-frames.html#membuat-data-frame"><span class="toc-section-number">2.10.1</span> Membuat Data Frame</a></li>
<li><a href="2-10-data-frames.html#subset-pada-data-frame"><span class="toc-section-number">2.10.2</span> Subset Pada Data Frame</a></li>
<li><a href="2-10-data-frames.html#memperluas-data-frame"><span class="toc-section-number">2.10.3</span> Memperluas Data Frame</a></li>
<li><a href="2-10-data-frames.html#perhitungan-pada-data-frame"><span class="toc-section-number">2.10.4</span> Perhitungan Pada Data Frame</a></li>
</ul></li>
<li class="has-sub"><a href="2-11-list.html#list"><span class="toc-section-number">2.11</span> List</a><ul>
<li><a href="2-11-list.html#membuat-list"><span class="toc-section-number">2.11.1</span> Membuat List</a></li>
<li><a href="2-11-list.html#subset-list"><span class="toc-section-number">2.11.2</span> Subset List</a></li>
<li><a href="2-11-list.html#memperluas-list"><span class="toc-section-number">2.11.3</span> Memperluas List</a></li>
</ul></li>
<li class="has-sub"><a href="2-12-loop.html#loop"><span class="toc-section-number">2.12</span> Loop</a><ul>
<li><a href="2-12-loop.html#for-loop"><span class="toc-section-number">2.12.1</span> For Loop</a></li>
<li><a href="2-12-loop.html#while-loop"><span class="toc-section-number">2.12.2</span> While Loop</a></li>
<li><a href="2-12-loop.html#repeat-loop"><span class="toc-section-number">2.12.3</span> Repeat Loop</a></li>
<li><a href="2-12-loop.html#break"><span class="toc-section-number">2.12.4</span> Break</a></li>
</ul></li>
<li class="has-sub"><a href="2-13-decision-making.html#decision-making"><span class="toc-section-number">2.13</span> Decision Making</a><ul>
<li><a href="2-13-decision-making.html#if-statement"><span class="toc-section-number">2.13.1</span> if statement</a></li>
<li><a href="2-13-decision-making.html#if-else-statement"><span class="toc-section-number">2.13.2</span> if else statement</a></li>
<li><a href="2-13-decision-making.html#switch-statement"><span class="toc-section-number">2.13.3</span> switch statement</a></li>
</ul></li>
<li><a href="2-14-fungsi.html#fungsi"><span class="toc-section-number">2.14</span> Fungsi</a></li>
<li><a href="2-15-referensi-1.html#referensi-1"><span class="toc-section-number">2.15</span> Referensi</a></li>
</ul></li>
<li class="has-sub"><a href="3-manajemen-data-r.html#manajemen-data-r"><span class="toc-section-number">3</span> Manajemen Data R</a><ul>
<li class="has-sub"><a href="3-1-import-file.html#import-file"><span class="toc-section-number">3.1</span> Import File</a><ul>
<li><a href="3-1-import-file.html#import-file-menggunakan-fungsi-bawaan-r"><span class="toc-section-number">3.1.1</span> Import File Menggunakan Fungsi Bawaan R</a></li>
<li><a href="3-1-import-file.html#membaca-file-csv-dan-txt-menggunakan-library-readr"><span class="toc-section-number">3.1.2</span> Membaca File CSV dan TXT Menggunakan Library readr</a></li>
<li><a href="3-1-import-file.html#import-file-excel-pada-r"><span class="toc-section-number">3.1.3</span> Import File Excel Pada R</a></li>
<li><a href="3-1-import-file.html#membaca-file-dari-format-aplikasi-statistik"><span class="toc-section-number">3.1.4</span> Membaca File Dari Format Aplikasi Statistik</a></li>
</ul></li>
<li class="has-sub"><a href="3-2-eksport-file.html#eksport-file"><span class="toc-section-number">3.2</span> Eksport File</a><ul>
<li><a href="3-2-eksport-file.html#eksport-data-menjadi-format-txt-dan-csv"><span class="toc-section-number">3.2.1</span> Eksport Data Menjadi Format TXT dan CSV</a></li>
<li><a href="3-2-eksport-file.html#eksport-data-menjadi-format-excel"><span class="toc-section-number">3.2.2</span> Eksport Data Menjadi Format Excel</a></li>
</ul></li>
<li class="has-sub"><a href="3-3-tibble-data-format.html#tibble-data-format"><span class="toc-section-number">3.3</span> Tibble Data Format</a><ul>
<li><a href="3-3-tibble-data-format.html#membuat-tibble"><span class="toc-section-number">3.3.1</span> Membuat Tibble</a></li>
<li><a href="3-3-tibble-data-format.html#tibble-vs-data-frame"><span class="toc-section-number">3.3.2</span> Tibble vs Data Frame</a></li>
</ul></li>
<li class="has-sub"><a href="3-4-merapikan-data.html#merapikan-data"><span class="toc-section-number">3.4</span> Merapikan Data</a><ul>
<li><a href="3-4-merapikan-data.html#gather"><span class="toc-section-number">3.4.1</span> Gather</a></li>
<li><a href="3-4-merapikan-data.html#spread"><span class="toc-section-number">3.4.2</span> Spread</a></li>
<li><a href="3-4-merapikan-data.html#separate"><span class="toc-section-number">3.4.3</span> Separate</a></li>
<li><a href="3-4-merapikan-data.html#unite"><span class="toc-section-number">3.4.4</span> Unite</a></li>
</ul></li>
<li class="has-sub"><a href="3-5-transformasi-data.html#transformasi-data"><span class="toc-section-number">3.5</span> Transformasi Data</a><ul>
<li><a href="3-5-transformasi-data.html#paket-dplyr"><span class="toc-section-number">3.5.1</span> Paket dplyr</a></li>
<li><a href="3-5-transformasi-data.html#filter"><span class="toc-section-number">3.5.2</span> filter()</a></li>
<li><a href="3-5-transformasi-data.html#arrange"><span class="toc-section-number">3.5.3</span> arrange()</a></li>
<li><a href="3-5-transformasi-data.html#select"><span class="toc-section-number">3.5.4</span> select()</a></li>
<li><a href="3-5-transformasi-data.html#mutate"><span class="toc-section-number">3.5.5</span> mutate()</a></li>
<li><a href="3-5-transformasi-data.html#summarize-dan-group_by"><span class="toc-section-number">3.5.6</span> summarize() dan group_by()</a></li>
<li><a href="3-5-transformasi-data.html#mengkombinasikan-beberapa-operasi-menggunakan-operator-pipe"><span class="toc-section-number">3.5.7</span> Mengkombinasikan Beberapa Operasi Menggunakan Operator Pipe (%&gt;%)</a></li>
</ul></li>
<li><a href="3-6-referensi-2.html#referensi-2"><span class="toc-section-number">3.6</span> Referensi</a></li>
</ul></li>
<li class="part"><span><b>Visualisasi Data - R</b></span></li>
<li class="has-sub"><a href="4-visualisasi-data-menggunakan-fungsi-dasar-r.html#visualisasi-data-menggunakan-fungsi-dasar-r"><span class="toc-section-number">4</span> Visualisasi Data Menggunakan Fungsi Dasar R</a><ul>
<li><a href="4-1-visualisasi-data-menggunakan-fungsi-plot.html#visualisasi-data-menggunakan-fungsi-plot"><span class="toc-section-number">4.1</span> Visualisasi Data Menggunakan Fungsi plot()</a></li>
<li><a href="4-2-matriks-scatterplot.html#matriks-scatterplot"><span class="toc-section-number">4.2</span> Matriks Scatterplot</a></li>
<li><a href="4-3-box-plot.html#box-plot"><span class="toc-section-number">4.3</span> Box plot</a></li>
<li><a href="4-4-bar-plot.html#bar-plot"><span class="toc-section-number">4.4</span> Bar Plot</a></li>
<li><a href="4-5-line-plot.html#line-plot"><span class="toc-section-number">4.5</span> Line Plot</a></li>
<li><a href="4-6-pie-chart.html#pie-chart"><span class="toc-section-number">4.6</span> Pie Chart</a></li>
<li><a href="4-7-histogram-dan-density-plot.html#histogram-dan-density-plot"><span class="toc-section-number">4.7</span> Histogram dan Density Plot</a></li>
<li><a href="4-8-qq-plot.html#qq-plot"><span class="toc-section-number">4.8</span> QQ Plot</a></li>
<li><a href="4-9-dot-chart.html#dot-chart"><span class="toc-section-number">4.9</span> Dot Chart</a></li>
<li class="has-sub"><a href="4-10-kustomisasi-parameter-grafik.html#kustomisasi-parameter-grafik"><span class="toc-section-number">4.10</span> Kustomisasi Parameter Grafik</a><ul>
<li><a href="4-10-kustomisasi-parameter-grafik.html#menambahkan-judul"><span class="toc-section-number">4.10.1</span> Menambahkan Judul</a></li>
<li><a href="4-10-kustomisasi-parameter-grafik.html#menambahkan-legend"><span class="toc-section-number">4.10.2</span> Menambahkan Legend</a></li>
<li><a href="4-10-kustomisasi-parameter-grafik.html#menambahkan-teks-pada-grafik"><span class="toc-section-number">4.10.3</span> Menambahkan Teks Pada Grafik</a></li>
<li><a href="4-10-kustomisasi-parameter-grafik.html#menambahkan-garis-pada-plot"><span class="toc-section-number">4.10.4</span> Menambahkan Garis Pada Plot</a></li>
<li><a href="4-10-kustomisasi-parameter-grafik.html#merubah-simbol-plot-dan-jenis-garis"><span class="toc-section-number">4.10.5</span> Merubah Simbol plot dan Jenis Garis</a></li>
<li><a href="4-10-kustomisasi-parameter-grafik.html#mengatur-axis-plot"><span class="toc-section-number">4.10.6</span> Mengatur Axis Plot</a></li>
<li><a href="4-10-kustomisasi-parameter-grafik.html#mengatur-warna"><span class="toc-section-number">4.10.7</span> Mengatur Warna</a></li>
</ul></li>
<li class="has-sub"><a href="4-11-alternatif-library-dasar-lain.html#alternatif-library-dasar-lain"><span class="toc-section-number">4.11</span> Alternatif Library Dasar Lain</a><ul>
<li><a href="4-11-alternatif-library-dasar-lain.html#scatterplot-menggunakan-library-car"><span class="toc-section-number">4.11.1</span> Scatterplot Menggunakan Library car</a></li>
<li><a href="4-11-alternatif-library-dasar-lain.html#matriks-scatterplot-menggunakan-library-psych"><span class="toc-section-number">4.11.2</span> Matriks Scatterplot Menggunakan Library psych</a></li>
<li><a href="4-11-alternatif-library-dasar-lain.html#box-plot-menggunakan-library-gplots"><span class="toc-section-number">4.11.3</span> Box Plot Menggunakan Library gplots</a></li>
<li><a href="4-11-alternatif-library-dasar-lain.html#qq-plot-menggunakan-library-car"><span class="toc-section-number">4.11.4</span> QQ Plot Menggunakan Library car</a></li>
<li><a href="4-11-alternatif-library-dasar-lain.html#plot-group-means-menggunakan-library-gplots"><span class="toc-section-number">4.11.5</span> Plot Group Means Menggunakan Library gplots</a></li>
</ul></li>
<li><a href="4-12-referensi-3.html#referensi-3"><span class="toc-section-number">4.12</span> Referensi</a></li>
</ul></li>
<li class="has-sub"><a href="5-visualisasi-data-menggunakan-ggplot.html#visualisasi-data-menggunakan-ggplot"><span class="toc-section-number">5</span> Visualisasi Data Menggunakan GGPLOT</a><ul>
<li><a href="5-1-scatterplot.html#scatterplot"><span class="toc-section-number">5.1</span> Scatterplot</a></li>
<li><a href="5-2-box-plot-dan-violin-plot.html#box-plot-dan-violin-plot"><span class="toc-section-number">5.2</span> Box Plot dan Violin Plot</a></li>
<li><a href="5-3-bar-plot-1.html#bar-plot-1"><span class="toc-section-number">5.3</span> Bar Plot</a></li>
<li><a href="5-4-line-plot-1.html#line-plot-1"><span class="toc-section-number">5.4</span> Line Plot</a></li>
<li><a href="5-5-pie-chart-1.html#pie-chart-1"><span class="toc-section-number">5.5</span> Pie Chart</a></li>
<li><a href="5-6-histogram-dan-desity-plot.html#histogram-dan-desity-plot"><span class="toc-section-number">5.6</span> Histogram dan Desity Plot</a></li>
<li><a href="5-7-qq-plot-1.html#qq-plot-1"><span class="toc-section-number">5.7</span> QQ Plot</a></li>
<li><a href="5-8-dot-plot.html#dot-plot"><span class="toc-section-number">5.8</span> Dot Plot</a></li>
<li><a href="5-9-ecdf-plot.html#ecdf-plot"><span class="toc-section-number">5.9</span> ECDF Plot</a></li>
</ul></li>
<li><a href="references.html#references">References</a></li>
</ul>
</div>
</div>
</div>
<div class="row">
<div class="col-sm-12">
<div id="transformasi-data" class="section level2">
<h2><span class="header-section-number">3.5</span> Transformasi Data</h2>
<p>Data frame merupakan struktur data utama dalam statistik dan dalam <code>R</code>. Struktur dasar data frame ialah ada satu observasi tiap baris dan setiap kolom mewakili variabel, ukuran, fitur, atau karakteristik pengamatan itu yang telah dijelaskan pada bagian sebelumya. <code>R</code> memiliki implementasi internal data frame yang kemungkinan besar akan kita gunakan paling sering. Namun, ada paket di CRAN yang mengimplementasikan data frame layaknya basis data relasional yang memungkinkan kita untuk beroperasi pada data frame yang sangat besar.</p>
<p>Mengingat pentingnya mengelola dat frame, penting bagi kita untuk memiliki alat yang baik untuk melakukannya. <code>R</code> memiliki beberapa paket seperti fungsi <code>subset()</code> dan penggunaan operator “[” dan “$” untuk mengekstrak himpunan bagian dari frame data. Namun, operasi lain, seperti pemfilteran, pengurutan, dan pengelompokan data, seringkali dapat menjadi operasi yang membosankan di <code>R</code> yang sintaksisnya tidak terlalu intuitif. Paket <code>dplyr</code> dirancang untuk mengurangi banyak masalah ini dan menyediakan serangkaian rutinitas yang dioptimalkan secara khusus untuk menangani data frame.</p>
<div id="paket-dplyr" class="section level3">
<h3><span class="header-section-number">3.5.1</span> Paket dplyr</h3>
<p>Paket <code>dplyr</code> dikembangkan oleh <strong>Hadley Wickham</strong> dari <strong>RStudio</strong> dan merupakan versi yang dioptimalkan dari paket <code>plyr</code>-nya. Paket <code>dplyr</code> tidak menyediakan fungsionalitas baru untuk <code>R</code> sendiri, dalam arti bahwa semua yang dilakukan <code>dplyr</code> sudah dapat dilakukan dengan fungsi basis <code>R</code>, tetapi sangat menyederhanakan fungsi yang ada di <code>R</code>.</p>
<p>Salah satu kontribusi penting dari paket <code>dplyr</code> adalah ia menyediakan “<em>grammar</em>” (khususnya, kata kerja) untuk manipulasi data dan untuk beroperasi pada data frame. Melalui <em>grammar</em> ini, kita dapat berkomunikasi dengan masuk akal apa yang telah kita lakukan terhadap data frame dapat pula dipahami orang lain (dengan asumsi mereka juga tahu <em>grammar</em>-nya). Hal ini berguna karena memberikan abstraksi untuk manipulasi data yang sebelumnya tidak ada. Kontribusi lain yang bermanfaat adalah bahwa fungsi <code>dplyr</code> sangat cepat, karena banyak operasi utama dikodekan dalam C++.</p>
<p>Pada bagian ini pembaca akan belajar <strong>6</strong> fungsi utama yang ada pada paket <code>dplyr</code>. Fungsi tersebut antara lain:</p>
<ol style="list-style-type: decimal">
<li>Mengambil sejumlah observasi berdasarkan nilainya (<code>filter()</code>).</li>
<li>Mengurutkan kembali baris data frame berdasarkan nilai pada sebuah atau beberapa variabel (<code>arrange()</code>).</li>
<li>Mengambil atau subset terhadap sebuah atau beberapa variabel berdasarkan nama variabel/kolom (<code>select()</code>).</li>
<li>Membuat variabel baru atau menambahkan kolom baru (<code>mutate()</code>).</li>
<li>Membuat ringkasan terhadap data frame (<code>summarize()</code>)</li>
<li>Mengelompokkan operasi berdasarkan grup data (<code>group_by()</code>).</li>
</ol>
<p>Keseluruhan fungsi tersebut format fungsi yang seragam, yaitu:</p>
<ol style="list-style-type: decimal">
<li>Argumen pertama adalah data frame.</li>
<li>Argumen selanjutnya adalah deskripsi yang akan dilakukan terhadap data frame (filter, pengurutan kembali, membuat ringkasan, dll) menggunakan nama variabel (tanpa tanda kutip).</li>
<li>Hasil operasi yang diperoleh adalah data frame baru.</li>
</ol>
<p>Untuk menginstall dan memuat paket <code>dplyr</code> jalankan sintaks berikut:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Memasang paket</span>
<span class="kw">install.packages</span>(<span class="st">&quot;dplyr&quot;</span>)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># memuat paket</span>
<span class="kw">library</span>(dplyr)</code></pre></div>
</div>
<div id="filter" class="section level3">
<h3><span class="header-section-number">3.5.2</span> filter()</h3>
<p>Fungsi <code>filter()</code> digunakan untuk mengekstrak himpunan bagian (subset) baris dari data frame. Fungsi ini mirip dengan fungsi <code>subset()</code> yang ada di <code>R</code>. Secara sederhana format fungsi <code>filter()</code> dapat dituliskan sebagai berikut:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">filter</span>(data, ....)</code></pre></div>
<blockquote>
<p><strong>Note: </strong></p>
<ul>
<li><strong>data</strong> : data frame</li>
<li><strong>….</strong> : Predikat logis didefinisikan dalam istilah variabel dalam <strong>data</strong>. Beberapa kondisi digabungkan dengan &amp; (lihat Chapter 2 opeator relasi dan operator logika. Hanya baris tempat kondisi bernilai TRUE disimpan.</li>
</ul>
</blockquote>
<p>Misalkan kita akan melakukan melakukan filter terhadap data frame <code>pollution_tbl</code> terhadap variabel <code>size</code> dengan kriteria <code>large</code> dan <code>amount</code> &gt; 12. Berikut adalah sintaks yang digunakan:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">filter</span>(pollution_tbl, size<span class="op">==</span><span class="st">&quot;large&quot;</span> <span class="op">&amp;</span><span class="st"> </span>amount <span class="op">&gt;</span><span class="st"> </span><span class="dv">12</span>)</code></pre></div>
<pre><code>## # A tibble: 3 x 3
##   city     size  amount
##   &lt;chr&gt;    &lt;chr&gt;  &lt;dbl&gt;
## 1 New York large     23
## 2 London   large     22
## 3 Beijing  large    121</code></pre>
<p>Jika menggunakan paket dasar <code>R</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">subset</span>(pollution_tbl,size<span class="op">==</span><span class="st">&quot;large&quot;</span> <span class="op">&amp;</span><span class="st"> </span>amount <span class="op">&gt;</span><span class="st"> </span><span class="dv">12</span>)</code></pre></div>
<pre><code>## # A tibble: 3 x 3
##   city     size  amount
##   &lt;chr&gt;    &lt;chr&gt;  &lt;dbl&gt;
## 1 New York large     23
## 2 London   large     22
## 3 Beijing  large    121</code></pre>
<p>Operator “&gt;” merupakan operator relasi (lihat chapter 2: operator relasi). Operator tersebut banyak digunakan untuk melakukan filter terhadap variabel/kolom yang mengandung nilai numerik.</p>
<p>Operator “==” merupakan operator logika (lihat chapter 2: operator logika). Operator tersebut digunakan untuk melakukan filter terhadap sejumlah syarat atau kondisi yang kita tetapkan. Jika nilai yang dihasilkan TRUE, maka hanya observasi tersebut yang akan ditampilkan. Untuk lebih memahami penerapan masing-masing operator logika pada proses filter perhatikan Gambar <a href="3-5-transformasi-data.html#fig:filter">3.2</a> berikut:</p>
<div class="figure" style="text-align: center"><span id="fig:filter"></span>
<img src="filter.PNG" alt="Diagram operasi Boolean" width="236" />
<p class="caption">
Gambar 3.2: Diagram operasi Boolean
</p>
</div>
<blockquote>
<p><strong>Note: </strong> Bagian yang di arsir adalah observasi yang akan ditampilkan pada output.</p>
</blockquote>
<p>Salah satu bagian terpenting dan paling sering penulis gunakan pada fungsi ini memfilter <em>missing value</em> (melihat observasi yang mengandung <em>missing value</em> atau tidak melibatkan <em>missing value</em>). Berikut adalah contoh filter terhadap data pada <code>pollution_tbl</code> yang tidak mengandung <em>missing value</em> dan nilai <code>amount</code>&gt;0.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">filter</span>(pollution_tbl,<span class="op">!</span>(<span class="kw">is.na</span>(amount)<span class="op">|</span>amount<span class="op">&lt;=</span><span class="dv">0</span>))</code></pre></div>
<pre><code>## # A tibble: 6 x 3
##   city     size  amount
##   &lt;chr&gt;    &lt;chr&gt;  &lt;dbl&gt;
## 1 New York large     23
## 2 New York small     14
## 3 London   large     22
## 4 London   small     16
## 5 Beijing  large    121
## 6 Beijing  small     56</code></pre>
<p>Berdasarkan hasil yang diperoleh seluruh data tidak ada yang di drop sehingga dapat disimpulkan bahwa data tersebut tidak mengandung <em>missing value</em> dan nol.</p>
</div>
<div id="arrange" class="section level3">
<h3><span class="header-section-number">3.5.3</span> arrange()</h3>
<p>Fungsi <code>arrange()</code> bekerja mirip dengan fungsi <code>filter()</code> kecuali bahwa alih-alih memilih baris, fungsi ini mengubah urutan observasinya (mengurutkan dari yang terbesar atau sebaliknya). Dibutuhkan data frame dan sekumpulan nama kolom (atau ekspresi yang lebih rumit) untuk dipesan. Jika kita memberikan lebih dari satu nama kolom pada fungsi, setiap kolom tambahan akan digunakan untuk menentukan urutan nilai yang sama berdasarkan nilai kolom sebelumnya.</p>
<p>Fungsi <code>arrange()</code> mirip dengan fungsi <code>order()</code> pada paket dasar <code>R</code>. Format sederhana fungsi ini adalah sebagai berikut:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">arrange</span>(data, ....)</code></pre></div>
<blockquote>
<p><strong>Note: </strong></p>
<ul>
<li><strong>data</strong> : data frame</li>
<li><strong>….</strong> : daftar nama variabel yang tidak dikutip yang dipisahkan tanda koma, atau ekspresi yang melibatkan nama variabel. Gunakan <code>desc()</code> untuk mengurutkan variabel dalam urutan menurun.</li>
</ul>
</blockquote>
<p>Misalkan kita ingin melihat urutan mobil pada data <code>mtcars</code> berdasarkan penggunaan bahan bakar (<code>mpg</code>) dan bobot mobil (<code>wt</code>) tersebut. Berikut adalah sintaks yang digunakan:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">data</span>(<span class="st">&quot;mtcars&quot;</span>)

<span class="co"># Ubah mtcars menjadi tibble</span>
mtcars&lt;-<span class="st"> </span><span class="kw">as_tibble</span>(mtcars)

<span class="kw">arrange</span>(mtcars, mpg, wt)</code></pre></div>
<pre><code>## # A tibble: 32 x 11
##      mpg   cyl  disp    hp  drat    wt  qsec    vs
##    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
##  1  10.4     8  472    205  2.93  5.25  18.0     0
##  2  10.4     8  460    215  3     5.42  17.8     0
##  3  13.3     8  350    245  3.73  3.84  15.4     0
##  4  14.3     8  360    245  3.21  3.57  15.8     0
##  5  14.7     8  440    230  3.23  5.34  17.4     0
##  6  15       8  301    335  3.54  3.57  14.6     0
##  7  15.2     8  304    150  3.15  3.44  17.3     0
##  8  15.2     8  276.   180  3.07  3.78  18       0
##  9  15.5     8  318    150  2.76  3.52  16.9     0
## 10  15.8     8  351    264  4.22  3.17  14.5     0
## # ... with 22 more rows, and 3 more variables:
## #   am &lt;dbl&gt;, gear &lt;dbl&gt;, carb &lt;dbl&gt;</code></pre>
<p>Jika ingin urutan yang digunakan adalah dari yang terbesar ke terkecil untuk kedua variabel tersebut jalankan sintaks berikut:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">arrange</span>(mtcars, <span class="kw">desc</span>(mpg), <span class="kw">desc</span>(wt))</code></pre></div>
<pre><code>## # A tibble: 32 x 11
##      mpg   cyl  disp    hp  drat    wt  qsec    vs
##    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
##  1  33.9     4  71.1    65  4.22  1.84  19.9     1
##  2  32.4     4  78.7    66  4.08  2.2   19.5     1
##  3  30.4     4  75.7    52  4.93  1.62  18.5     1
##  4  30.4     4  95.1   113  3.77  1.51  16.9     1
##  5  27.3     4  79      66  4.08  1.94  18.9     1
##  6  26       4 120.     91  4.43  2.14  16.7     0
##  7  24.4     4 147.     62  3.69  3.19  20       1
##  8  22.8     4 141.     95  3.92  3.15  22.9     1
##  9  22.8     4 108      93  3.85  2.32  18.6     1
## 10  21.5     4 120.     97  3.7   2.46  20.0     1
## # ... with 22 more rows, and 3 more variables:
## #   am &lt;dbl&gt;, gear &lt;dbl&gt;, carb &lt;dbl&gt;</code></pre>
<p>Jika menggunakan fungsi <code>order()</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">attach</span>(mtcars)
<span class="co"># urutan dari kecil ke besar</span>
mtcars[<span class="kw">order</span>(mpg, wt), ]</code></pre></div>
<pre><code>## # A tibble: 32 x 11
##      mpg   cyl  disp    hp  drat    wt  qsec    vs
##    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
##  1  10.4     8  472    205  2.93  5.25  18.0     0
##  2  10.4     8  460    215  3     5.42  17.8     0
##  3  13.3     8  350    245  3.73  3.84  15.4     0
##  4  14.3     8  360    245  3.21  3.57  15.8     0
##  5  14.7     8  440    230  3.23  5.34  17.4     0
##  6  15       8  301    335  3.54  3.57  14.6     0
##  7  15.2     8  304    150  3.15  3.44  17.3     0
##  8  15.2     8  276.   180  3.07  3.78  18       0
##  9  15.5     8  318    150  2.76  3.52  16.9     0
## 10  15.8     8  351    264  4.22  3.17  14.5     0
## # ... with 22 more rows, and 3 more variables:
## #   am &lt;dbl&gt;, gear &lt;dbl&gt;, carb &lt;dbl&gt;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># urutan dari besar ke kecil</span>
mtcars[<span class="kw">order</span>(<span class="op">-</span>mpg, <span class="op">-</span>wt), ]</code></pre></div>
<pre><code>## # A tibble: 32 x 11
##      mpg   cyl  disp    hp  drat    wt  qsec    vs
##    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
##  1  33.9     4  71.1    65  4.22  1.84  19.9     1
##  2  32.4     4  78.7    66  4.08  2.2   19.5     1
##  3  30.4     4  75.7    52  4.93  1.62  18.5     1
##  4  30.4     4  95.1   113  3.77  1.51  16.9     1
##  5  27.3     4  79      66  4.08  1.94  18.9     1
##  6  26       4 120.     91  4.43  2.14  16.7     0
##  7  24.4     4 147.     62  3.69  3.19  20       1
##  8  22.8     4 141.     95  3.92  3.15  22.9     1
##  9  22.8     4 108      93  3.85  2.32  18.6     1
## 10  21.5     4 120.     97  3.7   2.46  20.0     1
## # ... with 22 more rows, and 3 more variables:
## #   am &lt;dbl&gt;, gear &lt;dbl&gt;, carb &lt;dbl&gt;</code></pre>
<blockquote>
<p><strong>Note: </strong> <em>missing value</em> akan selalu diurutkan pada observasi terakhir baik menggunakan urutan dari terbesar ke terkecil maupun sebaliknya.</p>
</blockquote>
</div>
<div id="select" class="section level3">
<h3><span class="header-section-number">3.5.4</span> select()</h3>
<p>Fungsi <code>select()</code> dapat digunakan untuk memilih kolom dari data frame yang ingin kita fokuskan. Seringkali kita memiliki data frame yang besar yang berisi semua data, tetapi setiap analisis yang diberikan hanya menggunakan subset variabel atau pengamatan. Fungsi <code>select()</code> memungkinkan kita untuk mendapatkan beberapa kolom yang mungkin kita butuhkan.</p>
<p>Fungsi <code>select()</code> memiliki kesamaan dengan subset menggunakan tanda “[” dan “$”. Perbedaanya adalah kita dapat melakukan hal lebih melalui fungsi ini seperti memilih berdasarkan kriteria tertentu menggunakan fungsi bantuan sebagai berikut:</p>
<ol style="list-style-type: decimal">
<li><code>starts_with(&quot;abcd&quot;)</code>, pilih kolom yang memiliki awalan “abcd”.</li>
<li><code>end_with(&quot;abcd&quot;)</code>, pilih kolom yang memiliki akhiran “abcd”.</li>
<li><code>contains(&quot;abcd&quot;)</code>, pilih kolom yang mengandung nama “abcd”</li>
<li><code>matches(&quot;(.)\\1&quot;)</code>, pilih variabel yang mengandung <em>regular expression</em>. Fungsi ini memilih variabel yang mengandung perulangan karakter.</li>
<li><code>num_range(&quot;x&quot;, 1:3)</code>, cocokkan berdasarkan kolom dengan nama x1,x2,x3.</li>
</ol>
<p>Berdasarkan fungsi bantuan tersebut, fungsi <code>select()</code> lebih powerfull dibandingkan dengan cara subset biasa serta lebih mudah dalam melakukannya. Berikut adalah format dari fungsi <code>select()</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">select</span>(data, ....)</code></pre></div>
<blockquote>
<p><strong>Note: </strong></p>
<ul>
<li><strong>data</strong> : data frame</li>
<li><strong>….</strong> : Satu atau lebih ekspresi kutip yang dipisahkan oleh koma. kita dapat memperlakukan nama variabel seperti posisi, sehingga kita dapat menggunakan ekspresi seperti x: y untuk memilih rentang variabel.Nilai positif pilih variabel; nilai negatif drop variabel. Jika ekspresi pertama negatif, <code>select()</code> akan secara otomatis dimulai dengan semua variabel. Gunakan argumen bernama, mis. <code>new_name = old_name</code>, untuk mengganti nama variabel yang dipilih.</li>
</ul>
</blockquote>
<p>Berikut adalah contoh penerapan <code>selct()</code> pada data frame <code>flights</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># memasang paket</span>
<span class="co"># install.packages(&quot;nycflights13&quot;)</span>

<span class="co"># memuat data frame</span>
<span class="kw">library</span>(nycflights13)</code></pre></div>
<pre><code>## Warning: package &#39;nycflights13&#39; was built under R
## version 3.5.3</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># data</span>
flights</code></pre></div>
<pre><code>## # A tibble: 336,776 x 19
##     year month   day dep_time sched_dep_time dep_delay
##    &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;
##  1  2013     1     1      517            515         2
##  2  2013     1     1      533            529         4
##  3  2013     1     1      542            540         2
##  4  2013     1     1      544            545        -1
##  5  2013     1     1      554            600        -6
##  6  2013     1     1      554            558        -4
##  7  2013     1     1      555            600        -5
##  8  2013     1     1      557            600        -3
##  9  2013     1     1      557            600        -3
## 10  2013     1     1      558            600        -2
## # ... with 336,766 more rows, and 13 more variables:
## #   arr_time &lt;int&gt;, sched_arr_time &lt;int&gt;,
## #   arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;, flight &lt;int&gt;,
## #   tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;,
## #   air_time &lt;dbl&gt;, distance &lt;dbl&gt;, hour &lt;dbl&gt;,
## #   minute &lt;dbl&gt;, time_hour &lt;dttm&gt;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># pilih kolom berdasarkan nama kolom</span>
<span class="kw">select</span>(flights, year, month, day)</code></pre></div>
<pre><code>## # A tibble: 336,776 x 3
##     year month   day
##    &lt;int&gt; &lt;int&gt; &lt;int&gt;
##  1  2013     1     1
##  2  2013     1     1
##  3  2013     1     1
##  4  2013     1     1
##  5  2013     1     1
##  6  2013     1     1
##  7  2013     1     1
##  8  2013     1     1
##  9  2013     1     1
## 10  2013     1     1
## # ... with 336,766 more rows</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># pilih seluruh kolom dari year sampai day</span>
<span class="kw">select</span>(flights, year<span class="op">:</span>day)</code></pre></div>
<pre><code>## # A tibble: 336,776 x 3
##     year month   day
##    &lt;int&gt; &lt;int&gt; &lt;int&gt;
##  1  2013     1     1
##  2  2013     1     1
##  3  2013     1     1
##  4  2013     1     1
##  5  2013     1     1
##  6  2013     1     1
##  7  2013     1     1
##  8  2013     1     1
##  9  2013     1     1
## 10  2013     1     1
## # ... with 336,766 more rows</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># drop kolom dari year sampai day</span>
<span class="kw">select</span>(flights, <span class="op">-</span>(year<span class="op">:</span>day))</code></pre></div>
<pre><code>## # A tibble: 336,776 x 16
##    dep_time sched_dep_time dep_delay arr_time
##       &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;
##  1      517            515         2      830
##  2      533            529         4      850
##  3      542            540         2      923
##  4      544            545        -1     1004
##  5      554            600        -6      812
##  6      554            558        -4      740
##  7      555            600        -5      913
##  8      557            600        -3      709
##  9      557            600        -3      838
## 10      558            600        -2      753
## # ... with 336,766 more rows, and 12 more variables:
## #   sched_arr_time &lt;int&gt;, arr_delay &lt;dbl&gt;,
## #   carrier &lt;chr&gt;, flight &lt;int&gt;, tailnum &lt;chr&gt;,
## #   origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;,
## #   distance &lt;dbl&gt;, hour &lt;dbl&gt;, minute &lt;dbl&gt;,
## #   time_hour &lt;dttm&gt;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># pilih kolom dengan akhiran time</span>
<span class="kw">select</span>(flights, <span class="kw">ends_with</span>(<span class="st">&quot;time&quot;</span>))</code></pre></div>
<pre><code>## # A tibble: 336,776 x 5
##    dep_time sched_dep_time arr_time sched_arr_time
##       &lt;int&gt;          &lt;int&gt;    &lt;int&gt;          &lt;int&gt;
##  1      517            515      830            819
##  2      533            529      850            830
##  3      542            540      923            850
##  4      544            545     1004           1022
##  5      554            600      812            837
##  6      554            558      740            728
##  7      555            600      913            854
##  8      557            600      709            723
##  9      557            600      838            846
## 10      558            600      753            745
## # ... with 336,766 more rows, and 1 more variable:
## #   air_time &lt;dbl&gt;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># pilih kolom yang mengandung karakter &quot;arr&quot;</span>
<span class="kw">select</span>(flights, <span class="kw">contains</span>(<span class="st">&quot;arr&quot;</span>))</code></pre></div>
<pre><code>## # A tibble: 336,776 x 4
##    arr_time sched_arr_time arr_delay carrier
##       &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt; &lt;chr&gt;  
##  1      830            819        11 UA     
##  2      850            830        20 UA     
##  3      923            850        33 AA     
##  4     1004           1022       -18 B6     
##  5      812            837       -25 DL     
##  6      740            728        12 UA     
##  7      913            854        19 B6     
##  8      709            723       -14 EV     
##  9      838            846        -8 B6     
## 10      753            745         8 AA     
## # ... with 336,766 more rows</code></pre>
<p>Kita juga dapat menggunakan fungsi tambahan <code>everithing()</code> yang berguna jika kita ingin memindahkan variabel yang menjadi fokus kita ke awal data frame tanpa melakukan drop variabel. Berikut adalah contoh sintaksnya:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># pindahkan kolom yang mengandung time di awal</span>
<span class="kw">select</span>(flights, <span class="kw">contains</span>(<span class="st">&quot;time&quot;</span>), <span class="kw">everything</span>())</code></pre></div>
<pre><code>## # A tibble: 336,776 x 19
##    dep_time sched_dep_time arr_time sched_arr_time
##       &lt;int&gt;          &lt;int&gt;    &lt;int&gt;          &lt;int&gt;
##  1      517            515      830            819
##  2      533            529      850            830
##  3      542            540      923            850
##  4      544            545     1004           1022
##  5      554            600      812            837
##  6      554            558      740            728
##  7      555            600      913            854
##  8      557            600      709            723
##  9      557            600      838            846
## 10      558            600      753            745
## # ... with 336,766 more rows, and 15 more variables:
## #   air_time &lt;dbl&gt;, time_hour &lt;dttm&gt;, year &lt;int&gt;,
## #   month &lt;int&gt;, day &lt;int&gt;, dep_delay &lt;dbl&gt;,
## #   arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;, flight &lt;int&gt;,
## #   tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;,
## #   distance &lt;dbl&gt;, hour &lt;dbl&gt;, minute &lt;dbl&gt;</code></pre>
</div>
<div id="mutate" class="section level3">
<h3><span class="header-section-number">3.5.5</span> mutate()</h3>
<p>Fungsi <code>mutate()</code> ada untuk menghitung transformasi variabel dalam data frame. Seringkali, kita ingin membuat variabel baru yang berasal dari variabel yang ada dan fungsi <code>mutate()</code> menyediakan antarmuka yang bersih untuk melakukan itu. Format yang digunakan adalah sebagai berikut:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">mutate</span>(data, ....)</code></pre></div>
<blockquote>
<p><strong>Note: </strong></p>
<ul>
<li><strong>data</strong> : data frame</li>
<li><strong>….</strong> : Pasangan nama-nilai ekspresi, masing-masing dengan panjang 1 atau panjang yang sama dengan jumlah baris dalam grup (jika menggunakan group_by ()) atau di seluruh input (jika tidak menggunakan grup). Nama setiap argumen akan menjadi nama variabel baru, dan nilainya akan menjadi nilai yang sesuai. Gunakan nilai NULL dalam mutasi untuk menjatuhkan drop variabel lama, sehingga variabel baru menimpa variabel yang ada dengan nama yang sama.</li>
</ul>
</blockquote>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># subset data frame</span>
flights_sml &lt;-<span class="st"> </span><span class="kw">select</span>(flights,
  year<span class="op">:</span>day,
  <span class="kw">ends_with</span>(<span class="st">&quot;delay&quot;</span>),
  distance,
  air_time
)

<span class="co"># mutate()</span>
<span class="kw">mutate</span>(flights_sml,
  <span class="dt">gain =</span> arr_delay <span class="op">-</span><span class="st"> </span>dep_delay,
  <span class="dt">hours =</span> air_time <span class="op">/</span><span class="st"> </span><span class="dv">60</span>,
  <span class="dt">gain_per_hour =</span> gain <span class="op">/</span><span class="st"> </span>hours
)</code></pre></div>
<pre><code>## # A tibble: 336,776 x 10
##     year month   day dep_delay arr_delay distance
##    &lt;int&gt; &lt;int&gt; &lt;int&gt;     &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;
##  1  2013     1     1         2        11     1400
##  2  2013     1     1         4        20     1416
##  3  2013     1     1         2        33     1089
##  4  2013     1     1        -1       -18     1576
##  5  2013     1     1        -6       -25      762
##  6  2013     1     1        -4        12      719
##  7  2013     1     1        -5        19     1065
##  8  2013     1     1        -3       -14      229
##  9  2013     1     1        -3        -8      944
## 10  2013     1     1        -2         8      733
## # ... with 336,766 more rows, and 4 more variables:
## #   air_time &lt;dbl&gt;, gain &lt;dbl&gt;, hours &lt;dbl&gt;,
## #   gain_per_hour &lt;dbl&gt;</code></pre>
<p>Jika hanya ingin menyisakan variabel output fungsi <code>mutate()</code> pada data frame (variabel lain di drop), kita dapat menggunakan fungsi <code>transmute()</code>. Berikut adalah contoh sintaks yang digunakan:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">transmute</span>(flights,
  <span class="dt">gain =</span> arr_delay <span class="op">-</span><span class="st"> </span>dep_delay,
  <span class="dt">hours =</span> air_time <span class="op">/</span><span class="st"> </span><span class="dv">60</span>,
  <span class="dt">gain_per_hour =</span> gain <span class="op">/</span><span class="st"> </span>hours
)</code></pre></div>
<pre><code>## # A tibble: 336,776 x 3
##     gain hours gain_per_hour
##    &lt;dbl&gt; &lt;dbl&gt;         &lt;dbl&gt;
##  1     9 3.78           2.38
##  2    16 3.78           4.23
##  3    31 2.67          11.6 
##  4   -17 3.05          -5.57
##  5   -19 1.93          -9.83
##  6    16 2.5            6.4 
##  7    24 2.63           9.11
##  8   -11 0.883        -12.5 
##  9    -5 2.33          -2.14
## 10    10 2.3            4.35
## # ... with 336,766 more rows</code></pre>
<p>Adapaun fungsi-fungsi dan operator yang dapat digunakan pada <code>mutate()</code> untuk membuat variabel baru adalah sebagai berikut:</p>
<ol style="list-style-type: decimal">
<li><strong>Operator aritmatik</strong> (+,-,*,/,^, %/%, %%). operator aritmetik seperti %/% dan %% sangat berguna dalam memecah integer menjadi beberapa bagian seperti hasil bagi tanpa sisa (%/%) dan sisa hasil bagi (%%). Berikut adalah contoh penerapannya:</li>
</ol>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">transmute</span>(flights,
  dep_time,
  <span class="dt">hour =</span> dep_time <span class="op">%/%</span><span class="st"> </span><span class="dv">100</span>,
  <span class="dt">minute =</span> dep_time <span class="op">%%</span><span class="st"> </span><span class="dv">100</span>
)</code></pre></div>
<pre><code>## # A tibble: 336,776 x 3
##    dep_time  hour minute
##       &lt;int&gt; &lt;dbl&gt;  &lt;dbl&gt;
##  1      517     5     17
##  2      533     5     33
##  3      542     5     42
##  4      544     5     44
##  5      554     5     54
##  6      554     5     54
##  7      555     5     55
##  8      557     5     57
##  9      557     5     57
## 10      558     5     58
## # ... with 336,766 more rows</code></pre>
<ol start="2" style="list-style-type: decimal">
<li><strong>Fungsi aritmetik</strong> (<code>log()</code>,<code>sin()</code>,<code>cos()</code>,dll)</li>
<li><strong>Fungsi Offsets</strong> (<code>lead()</code>dan <code>lag()</code>). memungkinkan kita untuk merujuk pada nilai-nilai memimpin atau tertinggal. Berikut adalah contoh penerapannya:</li>
</ol>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">(x &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">10</span>)</code></pre></div>
<pre><code>##  [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">lag</span>(x)</code></pre></div>
<pre><code>##  [1] NA  1  2  3  4  5  6  7  8  9</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">lead</span>(x)</code></pre></div>
<pre><code>##  [1]  2  3  4  5  6  7  8  9 10 NA</code></pre>
<ol start="4" style="list-style-type: decimal">
<li><strong>Fungsi kumulatif</strong> (<code>cumsum()</code>,<code>cumprod()</code>,<code>cummin()</code>,<code>cummax()</code>, dan <code>cummean()</code>). Jika kita membutuhkan agregat bergulir (mis., Jumlah yang dihitung di atas jendela bergulir). Berikut adalah contoh penerapannya:</li>
</ol>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x</code></pre></div>
<pre><code>##  [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">cumsum</span>(x)</code></pre></div>
<pre><code>##  [1]  1  3  6 10 15 21 28 36 45 55</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">cummean</span>(x)</code></pre></div>
<pre><code>##  [1] 1.0 1.5 2.0 2.5 3.0 3.5 4.0 4.5 5.0 5.5</code></pre>
<ol start="5" style="list-style-type: decimal">
<li><p><strong>Operator logik</strong> (&lt;, &lt;=, &gt;, &gt;=, !=). Jika kita melakukan urutan operasi logis yang kompleks, seringkali ide yang baik untuk menyimpan nilai sementara dalam variabel baru sehingga kita dapat memeriksa bahwa setiap langkah berfungsi seperti yang diharapkan.</p></li>
<li><p>Rangking (<code>min_rank()</code>, <code>row_number()</code>, <code>dense_rank()</code>, <code>percent_rank()</code>, <code>cume_dist()</code>dan <code>ntile()</code>).</p></li>
</ol>
</div>
<div id="summarize-dan-group_by" class="section level3">
<h3><span class="header-section-number">3.5.6</span> summarize() dan group_by()</h3>
<p>Kita dapat membuat ringkasan data menggunakan fungsi <code>summarize()</code>. Fungsi tersebut akan merubah data frame menjadi sebuah baris berisi ringkasan data yang kita inginkan. Berikut adalh contoh penerapannya:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">summarize</span>(flights, <span class="dt">delay =</span> <span class="kw">mean</span>(dep_delay, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>))</code></pre></div>
<pre><code>## # A tibble: 1 x 1
##   delay
##   &lt;dbl&gt;
## 1  12.6</code></pre>
<p>FUngsi ini akan lebih berguna saat digunakan dengan fungsi <code>group_by()</code> sehingga dapat diperoleh ringkasan data pada setiap grup. berikut adalah contoh penerapannya:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">by_day &lt;-<span class="st"> </span><span class="kw">group_by</span>(flights, year, month, day)
    <span class="kw">summarize</span>(by_day, <span class="dt">delay =</span> <span class="kw">mean</span>(dep_delay, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>))</code></pre></div>
<pre><code>## # A tibble: 365 x 4
## # Groups:   year, month [12]
##     year month   day delay
##    &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;dbl&gt;
##  1  2013     1     1 11.5 
##  2  2013     1     2 13.9 
##  3  2013     1     3 11.0 
##  4  2013     1     4  8.95
##  5  2013     1     5  5.73
##  6  2013     1     6  7.15
##  7  2013     1     7  5.42
##  8  2013     1     8  2.55
##  9  2013     1     9  2.28
## 10  2013     1    10  2.84
## # ... with 355 more rows</code></pre>
</div>
<div id="mengkombinasikan-beberapa-operasi-menggunakan-operator-pipe" class="section level3">
<h3><span class="header-section-number">3.5.7</span> Mengkombinasikan Beberapa Operasi Menggunakan Operator Pipe (%&gt;%)</h3>
<p>Operator pipa (%&gt;%) sangat berguna untuk merangkai bersama beberapa fungsi <code>dplyr</code> dalam suatu urutan operasi. Perhatikan contoh sebelumnya dimana setiap kali kita ingin menerapkan lebih dari satu fungsi, urutannya akan dimulai dalam urutan panggilan fungsi bersarang yang sulit dibaca. Secara ringkas dapat kita tulis sebagai berikut:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">third</span>(<span class="kw">second</span>(<span class="kw">first</span>(x)))</code></pre></div>
<p>Jika dituliskan menggunakan operator pipa akan menghasilkan sintak berikut:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">first</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">second</span>() <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">third</span>()</code></pre></div>
<p>Dengan menuliskannya melalui cara tersebut kita dapat membacanya lebih mudah.</p>
<p>Misal kita ingin mengetahui hubungan antara variabel jarak (<code>dist</code>) terhadap rata-rata delay (<code>arr_delay</code>). Langkah-langkah untuk melakukannya dengan menggunakan operator pipa adalah sebagai berikut:</p>
<ol style="list-style-type: decimal">
<li>Kelompokkan penerbangan berdasarkan destinasinya (<code>group_by()</code>).</li>
<li>Hitung ringkasan data berdasarkan jarak, rata-rata delay, dan jumlah penerbangan.</li>
<li>Lakukan filter untuk membuang <em>noisy point</em> (jika diperlukan). Dalam hal ini jumlah penerbangan &gt; 20 dan tujuan penerbangan Honolulu (“HNL”) adalah <em>outlier</em> atau <em>noisy point</em>.</li>
</ol>
<p>Berikut adalah sintaks untuk melakukannya:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Tanpa pipe operator</span>
by_dest &lt;-<span class="st"> </span><span class="kw">group_by</span>(flights, dest)
delay &lt;-<span class="st"> </span><span class="kw">summarize</span>(by_dest,
  <span class="dt">count =</span> <span class="kw">n</span>(),
  <span class="dt">dist =</span> <span class="kw">mean</span>(distance, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>),
  <span class="dt">delay =</span> <span class="kw">mean</span>(arr_delay, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)
)
delay &lt;-<span class="st"> </span><span class="kw">filter</span>(delay, count <span class="op">&gt;</span><span class="st"> </span><span class="dv">20</span>, dest <span class="op">!=</span><span class="st"> &quot;HNL&quot;</span>)

<span class="co"># Dengan pipe operator</span>
<span class="kw">library</span>(magrittr)</code></pre></div>
<pre><code>## 
## Attaching package: &#39;magrittr&#39;</code></pre>
<pre><code>## The following object is masked from &#39;package:tidyr&#39;:
## 
##     extract</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">delays &lt;-<span class="st"> </span>flights <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">group_by</span>(dest) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">summarize</span>(
  <span class="dt">count =</span> <span class="kw">n</span>(),
  <span class="dt">dist =</span> <span class="kw">mean</span>(distance, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>),
  <span class="dt">delay =</span> <span class="kw">mean</span>(arr_delay, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)
  ) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">filter</span>(count <span class="op">&gt;</span><span class="st"> </span><span class="dv">20</span>, dest <span class="op">!=</span><span class="st"> &quot;HNL&quot;</span>)

<span class="co"># Print</span>
delays</code></pre></div>
<pre><code>## # A tibble: 96 x 4
##    dest  count  dist delay
##    &lt;chr&gt; &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt;
##  1 ABQ     254 1826   4.38
##  2 ACK     265  199   4.85
##  3 ALB     439  143  14.4 
##  4 ATL   17215  757. 11.3 
##  5 AUS    2439 1514.  6.02
##  6 AVL     275  584.  8.00
##  7 BDL     443  116   7.05
##  8 BGR     375  378   8.03
##  9 BHM     297  866. 16.9 
## 10 BNA    6333  758. 11.8 
## # ... with 86 more rows</code></pre>
<pre><code>## 
## Attaching package: &#39;ggplot2&#39;</code></pre>
<pre><code>## The following object is masked from &#39;mtcars&#39;:
## 
##     mpg</code></pre>
<pre><code>## `geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39;</code></pre>
<div class="figure" style="text-align: center"><span id="fig:distvsave"></span>
<img src="EnvStat_files/figure-html/distvsave-1.png" alt="Jarak vs rata-rata delay" width="70%" />
<p class="caption">
Gambar 3.3: Jarak vs rata-rata delay
</p>
</div>
<p>Berdasarkan Gambar <a href="3-5-transformasi-data.html#fig:distvsave">3.3</a>, rata-rata delay meningkat seiring dengan pertambahan jarak penerbangan.</p>
</div>
</div>
<p style="text-align: center;">
<a href="3-4-merapikan-data.html"><button class="btn btn-default">Previous</button></a>
<a href="3-6-referensi-2.html"><button class="btn btn-default">Next</button></a>
</p>
</div>
</div>


</div>

<script>

// add bootstrap table styles to pandoc tables
$(document).ready(function () {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
});

</script>

</body>
</html>
